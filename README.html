<!DOCTYPE html>
<html lang="en">
<head>
<title>ParaTracker - Readme</title>
<script type="text/javascript">
function expandCollapse(divName)
{
    if(document.getElementById(divName).className == "hidden")
    {
        document.getElementById(divName).className = "shown";
    }
    else
    {
        document.getElementById(divName).className = "hidden";
    }
}

</script>

<style>

body
{
font-family: monospace;
text-align: center;
background-color: #000000;
color: #FFFFFF;
font-size: 12pt;
}

.italic
{
font-style: italic;
}

.width60
{
width: 60%;
}

.width55
{
width: 55%;
}

.width50
{
width: 50%;
}

.width45
{
width: 45%;
}

.width40
{
width: 40%;
}

.width35
{
width: 35%;
}

.width30
{
width: 30%;
}

.width25
{
width: 25%;
}

.width20
{
width: 20%;
}

.date
{
color: #FF0000;
font-weight: bold;
font-size: 14pt;
}

.centerPage
{
width: 100%;
text-align: center;
}

.pageWidth
{
width: 1030px;
display: inline-block;
}

.cursor
{
cursor: pointer;
}

.hidden
{
display: none;
}

.shown
{
display: inline;
}

.red
{
color: #FF0000;
}

.green
{
color: #00FF00;
}

.cyan
{
color: #33DDDD;
font-weight: bold;
}

.blue
{
color: #3355FF;
font-weight: bold;
}

.pink
{
color: #FF00FF;
}

.gray
{
color: #777777;
}

.orange
{
color: #FF8800;
}

a
{
color: #8CF;
text-decoration: underline;
}

a:hover
{
color: #FFF;
text-decoration: underline;
}

a:active
{
color: #FC8;
text-decoration: underline;
}
</style>
</head>
<body>
<div class="centerPage">
<div class="pageWidth">

<h2>
********************************************************<br /><br />
<span class="red">Para</span><span class="gray">Tracker</span> - The Ultimate Quake III Server Tracker<br /><br />
********************************************************
</h2>

<h3>Title: ParaTracker 1.4.5</h3>

<h3>Authors: Parabolic Mind - <span class="green">NA</span><span class="pink">B6</span><span class="blue">22</span>, <span class="blue">Phazmatis</span>, <span class="red">Cagelight</span></h3>

<h3>TBA</h3>

<p class="italic">Click on a category below to expand it</p>

<hr class="width60" />

<div onclick="expandCollapse('description')" class="cursor">
<h3>DESCRIPTION:</h3>
</div>
<div id="description" class="hidden">
<p>
ParaTracker is a PHP based server tracker originally created for Jedi Academy, but it can also track many other Quake III games.<br />
All you have to do is put ParaTracker on your web server, make sure it has permission to read and write files and directories, then configure it with the IP address and port of the game server, and optionally, a skin file of your choice.
</p>
<p>
ParaTracker has two modes: <span class="red">Static</span> and <span class="blue">Dynamic</span>.
</p>
<p>
<span class="red">Static</span> mode runs directly from the settings in <span class="green">ParaConfig.php</span>, and none of the options<br />
can be changed by the viewers.</p>
<p>
<span class="blue">Dynamic</span> mode loads all the settings from <span class="green">ParaConfig.php</span>, but it accepts an IP address, port number and skin ID from the end user, as well as some overrides for various other settings. This enables other people to use ParaTracker on their own website, without installing it. This mode is a little risky and should be used with caution.
</p>
</div>

<hr class="width55" />

<div onclick="expandCollapse('installationInstructions')" class="cursor">
<h3>INSTALLATION INSTRUCTIONS:</h3>
</div>
<div id="installationInstructions" class="hidden">
<p>You must have PHP on your web server to use ParaTracker, your web host must allow outgoing connections, and ParaTracker must have permission to read and write files and directories.</p>

<p>To install ParaTracker, just copy all the files from this folder onto your own web server,<br />
and make sure it has enough free space after installation to write files.<br />
For <span class="red">static</span> mode (Only tracking one server, which is the default), you should only need 5 MB of free space or less.<br />
If you are running in <span class="blue">dynamic</span> mode, make sure there are several hundred MB of space available, because every server that is tracked will create a new folder and populate it with server data.</p>
</div>

<hr class="width50" />

<div onclick="expandCollapse('howToUse')" class="cursor">
<h3>HOW TO USE PARATRACKER:</h3>
</div>
<div id="howToUse" class="hidden">

<p>After installing ParaTracker, open <span class="green">ParaConfig.php</span> in a text editor. Set the IP address and port of your server, as well
as any other parameters that you feel like changing.</p>

<p>There are comments throughout <span class="green">ParaConfig.php</span> that explain each feature. RCon is available, but is disabled
by default for security. <span class="blue">Dynamic</span> mode, which enables the user to input their own IP
address and port, is also disabled by default, because it enables other users to use your
website's bandwidth, as well as being a security risk. <strong>Do not</strong> enable <span class="blue">dynamic</span> mode unless ParaTracker
is isolated in it's own webroot.</p>

<h3>If you mess something up in <span class="green">ParaConfig.php</span> and you can't figure it out, delete the file and load <span class="green">ParaTrackerStatic.php</span> in your browser. A default file will be generated for you, and you can start over.</h3>

<p>To use ParaTracker in <span class="red">static</span> mode (Running strictly with options from <span class="green">ParaConfig.php</span>), load <span class="green">ParaTrackerStatic.php</span>.</p>

<p>To insert ParaTracker onto a web page in <span class="red">static</span> mode, use the <strong>&lt;object&gt;</strong> tag, with the appropriate size and width settings. For instance:</p>

<h3><span class="red">
&lt;object id="ParaTracker" type="text/html" data="http://www.nab622.com/ParaTracker/<span class="green">ParaTrackerStatic.php</span>" width="<span class="green">675</span>" height="<span class="green">300</span>"&gt;<br />&lt;/object&gt;
</span></h3>

<p>Keep in mind that each skin is a different size; if you want to change skins, you will need to change the size to match.</p>


<p>To use ParaTracker in <span class="blue">dynamic</span> mode, you first have to enable it in <span class="green">ParaConfig.php</span>. Then, load up
<span class="green">ParaTrackerDynamic.php</span> in your web browser. An instruction page will appear that will help you get started.
Remember: other people can use this mode to track their game servers, using your web server as the medium.</p>


<p>All RCon usage is logged in the /logs folder. Inside the logs folder will be a folder named after the server
IP address and port number, and inside that folder will be <span class="green">RConLog.php</span>. For security reasons,
you cannot load this file from a web browser. If Dynamic mode is enabled and you have created an account for yourself, you can log in and use the <span class="blue">log viewer</span> utility on <span class="blue">ParaTrackerDynamic.php</span> to view it. Otherwise, you must download it to your computer, and open it in a text editor. All attempts at RCon access will be logged. Also, for privacy reasons, RCon passwords are not logged.</p>

<p>If you have <span class="red">Postgres</span> installed on your web server, ParaTracker can create a database with it to add some additional features. If a user sees levelshots are missing for a map they use, they can submit them to a list for you to review. Also, if ParaTracker sees a server running a map that has no levelshots, it will automatically be added to the list.</p>

<p>If you choose to run analytics, Postgres will be used to keep track of server data over time. A cron job must be created on your web server to trigger <span class="red">AnalyticsBackground.php</span> (Found in the utilities folder) at the desired interval (15 minutes is recommended). When enabled, ParaTracker will connect to all active game servers at the specified intervals, and track the server's uptime, the map being run, player count, the mod being run, and the game being played. This data is made publicly available on <span class="blue">ParaTrackerDynamic.php</span>, on the utilities page.<br>Make sure you are running the cron job with the same user as the web server, or ParaTracker will be unable to update any of its cached info.</p>

<p>ParaTracker can also send out administrator emails at specified intervals. You will have to install PHPMailer on the web server and configure it in <span class="green">ParaConfig.php</span>. (You do not need to set up an SMTP server, although it may help.) Once you are set, add the email addresses you want to the <span class="blue">$emailAdministrators</span> array. Every time an email is sent, it will go to all administrators.<br>To send administrator reports, set up a cron job that executes <span class="red">SendEmails.php</span> at the desired interval. (Make sure the cron job is run by the same user as the web server.)<br>Also, if map levelshot requests are enabled, any user-given requests will also result in an email being sent to every administrator.</p>

<p>If Postgres and dynamic mode are both enabled, you can create an account using <span class="red">ModifyAccounts.php</span> in the utilities folder. Load the page in your browser and it will give you instructions on how to add, modify or delete administrator accounts in the database.</p>

</div>


<hr class="width45" />

<div onclick="expandCollapse('levelshots')" class="cursor">
<h3>LEVELSHOTS:</h3>
</div>
<div id="levelshots" class="hidden">

<p>
ParaTracker will accept custom levelshots for any game it is able to track. It will automatically search for levelshots in a folder named after the game. The levelshots must be stored in:<br />
<span class="red">/images/levelshots/&lt;GameName&gt;</span><br />
So, if you were adding levelshots for <span class="blue">Jedi Academy</span>, you would put them in:<br />
<span class="red">/images/levelshots/jedi academy</span></p>

<p>Levelshots can be <span class="green">.webp</span>, <span class="green">.png</span>, <span class="green">.jpg</span> or <span class="green">.gif</span> (And yes, you can animate the .gifs). ParaTracker will look for <span class="green">WEBP</span> first, <span class="green">PNG</span> second, <span class="green">JPG</span> third, and <span class="green">GIF</span> last> Whichever file is found first is the one that will be used.</p>
<p>If you only have one levelshot, you can just name it after the map name, and ParaTracker will find it.<br />
If you have more than one levelshot, add a <span class="green">_1</span> to the end of the filename of the first one, <span class="green">_2</span> to the end of the second one, and so on.<br />
So, if you have 3 PNG levelshots for <span class="green">mp</span><span class="red">/ffa3</span> in <span class="blue">Jedi Academy</span>, you would name them:<br />
<span class="red">ffa3</span><span class="green">_1</span><span class="red">.png</span>, <span class="red">ffa3</span><span class="green">_2</span><span class="red">.png</span>, and <span class="red">ffa3</span><span class="green">_3</span><span class="red">.png</span>, and put them in <span class="red">/images/levelshots</span><span class="green">/mp</span>.</p>

<h2>Levelshot file names <span class="red">*must*</span> be in lowercase!</h2>

<p>By default, ParaTracker supports 20 levelshots per map, and can support up to 99 levelshots, but nobody will stick around to view that many, so you should keep it to a decent amount.

<p>ParaTracker can use any resolution levelshot, but to keep the size reasonable and save on bandwidth, you should make them all the standard resolution of <span class="blue">300 x 225</span>.</p>

<p>Also, if you open ParaTracker on a web page and click on a levelshot, the tracker will immediately transition to the next levelshot with no delay.</p>

<p>As stated in the section above, if you have <span class="red">Postgres</span> installed on your web server, ParaTracker can create a database with it to allow users to request levelshots that are missing. Also, ParaTracker will automatically add entries to the database when no levelshots are found for the game and map that are running on that server.</p>

</div>

<hr class="width40" />

<div onclick="expandCollapse('bugs')" class="cursor">
<h3>BUGS:</h3>
</div>
<div id="bugs" class="hidden">

<p>
If you find a bug, report it at:
</p>

<p>
<a href="https://github.com/ParabolicMinds/ParaTracker/issues" target="_blank">https://github.com/ParabolicMinds/ParaTracker/issues</a>
</p>
</div>

<hr class="width35" />


<div onclick="expandCollapse('changelog')" class="cursor">
<h3>CHANGELOG:</h3>
</div>
<div id="changelog" class="hidden">

<p>
<span class="date">1/7/2020</span><br />Released ParaTracker 1.4.5
</p>
<p>
&bull; Added culling to the database to prevent the system from bogging down over time.<br />
&bull; Fixed a bug in analytics that broke the UI.<br />
&bull; Fixed a bug in levelshot cleanup that prevented the clearing of fulfilled requests.<br />
&bull; Added support for Medal of Honor: Allied Assault, and Medal of Honor: Pacific Assault.<br /><span style="font-size:8pt;">Unfortunately, support for Nexuiz Classic had to be dropped for this to happen, due to a chr(02) character that Medal of Honor expects in the getstatus query. Also, RCon may not work in MoH games, but I have no way to test it.</span><br />
&bull; Improved game detection.<br />
&bull; Changed the "Missing Levelshot" image to also include a link to mapreq, where users can submit their own levelshots. The form is pre-filled with the game name and BSP name.<br />
&bull; Added WEBP support for levelshots.<br />
&bull; Cleaned up and improved the levelshot finding function.<br />
&bull; Various bug fixes.<br />
</p>

<p>
<span class="date">10/21/2018</span><br />Released ParaTracker 1.4.4
</p>
<p>
&bull; Implemented proper tracking of team scores, instead of just adding the frags from each team.<br />
&bull; Streamlined a few background functions.<br />
&bull; Added support for DogiJK.<br />
&bull; Improved handling of invalid domain names slightly.<br />
&bull; Updated admin tools a bit.<br />
&bull; Various bug fixes.<br />
</p>

<p>
<span class="date">5/7/2018</span><br />Released ParaTracker 1.4.3
</p>
<p>
&bull; Added a way to choose individual levelshot transitions in dynamic mode and static mode.<br />
&bull; Various bug fixes.<br />
</p>

<p>
<span class="date">2/27/2018</span><br />Released ParaTracker 1.4.2
</p>
<p>
&bull; Removed the usage of Javascript to read CSS, which caused bugs on Firefox and Chrome64.<br />
As part of this, the scroll bar on the player list had to be removed to prevent data from being misaligned.<br />
&bull; Fixed the incorrect use of count() which caused several PHP errors.<br />
&bull; Fixed a potential exploit in utilities/LevelshotFinder.<br />
&bull; Fixed a bug in the setup page that would prevent the sample tracker from showing.<br />
&bull; Various other bug fixes.<br />
</p>

<p>
<span class="date">10/3/2017</span><br />Released ParaTracker 1.4.1
</p>
<p>
&bull; Several bug fixes.<br />
&bull; Added total number of servers tracked to the dynamic setup page.<br />
&bull; Added the number of servers tracked for each game to the admin status email.<br />
&bull; Added Urban Terror levelshots. The majority of them were taken by DragonHeart.<br />
</p>

<p>
<span class="date">8/4/2017</span><br />Released ParaTracker 1.4
</p>
<p>
&bull; Added Postgres database integration.<br />
&bull; Added Analytics.<br />
&bull; Added accounts for administrative functions.<br />
&bull; Added email reports for administrators.<br />
&bull; Added a screen on the dynamic setup page that allows users to request levelshots for their maps.<br />
&bull; Moved some files into a "utilities" folder to keep things tidy.<br />
&bull; Reorganized the dynamic setup page. There is now a separate button for utilities.<br />
&bull; Moved the tracker from HTML to JSON data.<br />
&bull; Switched refreshes to use JSON instead of reloading the entire page.<br />
&bull; Added a cleanup routine that will automatically clean up unused files from the info/ folder.<br />
&bull; The player list can be re-sorted by clicking the column headers. By default, it is sorted descending by score.<br />
&bull; Fixed a bug in dynamic mode GeoIP flags that resulted in randomly broken image links.<br />
</p>

<p>
<span class="date">4/13/2017</span><br />Released ParaTracker 1.3.4
</p>
<p>
&bull; New options added to dynamic mode. Users can disable auto refresh, disable the game name, disable server name filtering, disable levelshot transitions, adjust the levelshot display and transition times, and specify a font or font family.<br />
&bull; Dynamic mode will now allow users to use an external CSS skin file. All skin files loaded onto ParaTracker can be downloaded and modified to the user's liking.<br />
&bull; Fixed a bug where enabling GeoIP without having it installed broke the tracker (Thanks, <span class="red">Cagelight</span>).<br />
&bull; Fixed the array to string conversion error messages. The error was caused by PHP updating how it handles variable variables.<br />
&bull; Fixed a bug in the levelshot code that caused levelshots to fail in Safari.<br />
&bull; Removed the &quot;Current page URL&quot; line from the dynamic setup page, since it served no visual purpose.<br />
&bull; Added g_duelWeaponDisable to Jedi Academy's bit flags.<br />
</p>

<p>
<span class="date">3/30/2017</span><br />Released ParaTracker 1.3.3
</p>
<p>
&bull; Added Quake III Arena and Quake III Team Arena levelshots.<br />
&bull; Added a bit value calculator to the ParaTracker Dynamic setup page, for use with setting up servers.<br />
&bull; Added a "Compact" skin, with a light and a dark variant.<br />
&bull; Added three more custom DIVs to the CSS skins, for a total of six.<br />
&bull; Added missing bitFlag values to Quake III Arena, and corrected dmflags.<br />
&bull; Determined the cause of the unnecessary waiting, removed the debug message that was added in the previous version and fixed the bug.<br />
</p>

<p>
<span class="date">3/26/2017</span><br />Released ParaTracker 1.3.2
</p>
<p>
&bull; Completed GeoIP functionality.<br />
&bull; Added a debug message to the wait timer to track down the cause of unnecessary waiting.<br />
&bull; Fixed the levelshot placeholder transitioning when it shouldn't.<br />
&bull; Updated all CSS skins to use GeoIP.<br />
&bull; Added GeoIP to the JSON output.<br />
</p>

<p>
<span class="date">3/23/2017</span><br />Released ParaTracker 1.3.1
</p>
<p>
&bull; Added banner ad and skyscraper ad skins.<br />
&bull; Added the ability to choose background color/opacity, and text color in dynamic mode.<br />
&bull; Levelshots are now accepted in lowercase only, since Quake III does not differentiate case.<br />
&bull; Fixed a few bugs in the JSON formatting.<br />
&bull; ParaTracker will now make a second connection attempt before accepting failure.<br />
</p>

<p>
<span class="date">3/10/2017</span><br />Released ParaTracker 1.3
</p>
<p>
&bull; Added Call Of Duty 4 support.<br />
&bull; Changed levelshot transitions to use CSS animations, and added a setting in ParaConfig.php to control them.<br />
&bull; Added css/LevelshotAnimations.css to allow users easy access to the animation classes.<br />
&bull; ParaTracker will now auto-detect the game it is tracking.<br />
&bull; Rewrote and improved the parsing of game-specific information.<br />
&bull; Greatly improved the speed at which server data is retrieved (Thanks, <span class="red">Cagelight</span>).<br />
&bull; Rewrote the parsing function to be faster (Thanks, <span class="red">Cagelight</span>).<br />
&bull; Removed a few deprecated features from ParaConfig.<br />
&bull; Moved skins from the /css folder into a new /skins folder.<br />
&bull; Renamed skins (Since users can create their own.)<br />
&bull; Added a setting in ParaConfig that specifies the skin to be used (Static mode only).<br />
&bull; Completely rewrote the HTML and CSS files for the skins.<br />
&bull; Created a template skin file.<br />
&bull; Added automatic detection of a skin's resolution during ParaTrackerDynamic setup.<br />
&bull; Fixed a bug in the RCon system that would send commands to the wrong address under certain conditions.<br />
&bull; Fixed a bug in the booleanValidator function that always resulted in the default value being returned.<br />
&bull; Various other bugfixes.<br />
</p>

<p>
<span class="date">12/26/16</span><br />Released ParaTracker 1.2.2
</p>
<p>
&bull; Various bugfixes.<br />
&bull; Fixed a bug in RCon where the command and password were mistakenly validated before being sent.<br />
&bull; Added an option in the config file to remove the Euro symbol from server names.
</p>

<p>
<span class="date">12/13/16</span><br />Released ParaTracker 1.2.1
</p>
<p>
&bull; Various bugfixes.<br />
&bull; Fixed a bug in the flood protect delay.<br />
&bull; The param window will now work correctly in dynamic mode.<br />
&bull; RCon will now work correctly in dynamic mode.<br />
&bull; Clicking levelshots will now skip to the next one.
</p>

<p>
<span class="date">12/12/16</span><br />Released ParaTracker 1.2
</p>
<p>
&bull; Added skin C.<br />
&bull; Various bugfixes.<br />
&bull; Added protection against multiple refreshes under heavy load.
</p>

<p>
<span class="date">12/6/2016</span><br />Released ParaTracker 1.1.1
</p>
<p>
&bull; Split the user-modifiable parts of the CSS into individual files for each skin.<br />
&bull; Fixed bug where capitalization of domain names could confuse the flood protection.<br />
&bull; Error messages now display a timer, and do not bypass flood protection.<br />
&bull; BitFlags are now sorted in their own config file, and are determined by the game name.<br />
</p>

<p>
<span class="date">12/3/2016</span><br />Released ParaTracker 1.1<br />
&bull; Skins A and B are included in the first release.<br />
&bull; Eight skins are intended total, and each skin will increase the version number by .1.
</p>

</div>

<hr class="width30" />


<div onclick="expandCollapse('credits')" class="cursor">
<h3>CREDITS:</h3>
</div>
<div id="credits" class="hidden">

<p>
Good coding: <span class="blue">Phazmatis</span> and <span class="red">Cagelight</span><br />
</p>
<p>
Bad coding: <span class="green">NA</span><span class="pink">B6</span><span class="blue">22</span>
</p>
<p>
Tracker images: <span class="green">NA</span><span class="pink">B6</span><span class="blue">22</span> and <span class="red">Cagelight</span>
</p>
<p>
Levelshots: <span class="green">NA</span><span class="pink">B6</span><span class="blue">22</span> and <span class="red">Cagelight</span><br />
<span class="cyan">Urban Terror levelshots provided by DragonHeart</span>
<br />
</p>
<p>
Flag SVGs: Panayiotis Lipiridis (from <a href="https://github.com/lipis/flag-icon-css" target="_blank">https://github.com/lipis/flag-icon-css</a>)
</p>
<p>
Testing: All developers, plus the folks at <span class="orange">jkhub.org</span>
</p>

</div>

<hr class="width25" />

<h4>LEGAL STUFF:</h4>
<p>
ParaTracker is released under the MIT license, which reads thus:
</p>
<p>
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
</p>
<p>
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
</p>
<p>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
</p>


<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<p>
Nothing to see here, scroll back up.
</p>

</div></div></body></html>
